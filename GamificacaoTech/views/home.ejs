<div class="header-wrapper">
    <div class="header">
        <div class="header-left">

            <button class="header-button" id="hamburger" type="button" onclick="showSidebar()">
                <i class="material-icons header-icon header-menu">menu</i>
            </button>
            <div class="profile-wrapper">
            
            </div>
            <canvas height="200" width="200" id="counter"></canvas>
            <nav class="header-nav">
                <button class="nav-button">Registro</button>
                <button class="nav-button">Portfólio</button>
                <button class="nav-button">Currículo</button>
                <button class="nav-button">Loja</button>
            </nav>
        </div>

        <div class="header-right">
            <img src="../Public/images/logo_branco.png" class="id-tech-logo">
            <img src="../Public/images/sigla_branco.png" class="id-logo">
        </div>
    </div>
</div>

<!--SIDEBAR-->
<div class="sidebar-wrapper" id="sidebar">
    <div class="sidebar">
        <button onclick="closeOverlay()" data-micromodal-trigger="modal-1" class="nav-button">Registro</button>
        <button onclick="closeOverlay()" class="nav-button">Portfólio</button>
        <button onclick="closeOverlay()" class="nav-button">Currículo</button>
        <button onclick="closeOverlay()" class="nav-button">Loja</button>
    </div>
</div>

<!--CONTENT-->

<div class="content-wrapper dragscroll">
    <div class="room-container">
        <img src="../Public/images/background-floor.svg" class="room">
        <img src="../Public/images/box.svg" class="room-box">
        <div class="grid-container">
            <div class="furniture">
                <img src="../Public/images/desk.png" class="desk"></img>
                <button data-micromodal-trigger="modal-1" class="furniture-button pc" onclick=""></button>
                <button class="furniture-button estante" data-micromodal-trigger="modal-3" onclick=""></button>
                <button class="furniture-button shelf" data-micromodal-trigger="modal-2">
                    <div class="books-wrapper">
                        <div class="book-pile" id="games">
                            <div class="book-group-1">
                                <div class="book"></div>
                                <div class="book"></div>
                                <div class="book"></div>
                            </div>      
                            <div class="book-group-2">
                                <div class="book"></div>
                                <div class="book"></div>
                                <div class="book"></div>
                            </div>
                            <div class="book-group-3">
                                <div class="book"></div>
                                <div class="book"></div>
                                <div class="book"></div>
                            </div>
                        </div>
                        <div class="book-pile" id="bi">
                            <div class="book-group-1">
                                <div class="book book-gui"></div>
                            </div>      
                            <div class="book-group-2">
                                <div class="book book-gui"></div>
                            </div>
                            <div class="book-group-3">
                                <div class="book book-gui"></div>
                            </div>
                        </div>
                        <div class="book-pile" id="dev">
                            <div class="book-group-1">
                                <div class="book book-gui"></div>
                            </div>      
                            <div class="book-group-2">
                                <div class="book book-gui"></div>
                            </div>
                            <div class="book-group-3">
                                <div class="book book-gui"></div>
                            </div>
                        </div>
                        <div class="book-pile" id="inov">
                            <div class="book-group-1">
                                <div class="book book-gui"></div>
                            </div>      
                            <div class="book-group-2">
                                <div class="book book-gui"></div>
                            </div>
                            <div class="book-group-3">
                                <div class="book book-gui"></div>
                            </div>
                        </div>
                    </div>
                </button>
                <button class="furniture-button board" onclick=""></button>
            </div>
        </div>
    </div>
</div>

<!--MODALS-->
<div class="modal-storage">        
    <div id="sidebar-overlay" onclick="closeOverlay()"></div>

    <div class="modal micromodal-slide" id="modal-1" aria-hidden="true">
        <div class="modal__overlay" tabindex="-1" data-micromodal-close>
            <div class="modal__container os-container" role="dialog" aria-modal="true" aria-labelledby="modal-1-title">
                <header class="modal__header os-taskbar">
                    <h2 class="modal__title" id="modal-1-title">
                    IDTech OS
                    </h2>
                    <button class="modal__close" aria-label="Close modal" data-micromodal-close></button>
                </header>
                <main class="modal__content os-desktop-wrapping" id="modal-1-content">
                    <div class="os-desktop">
                        <div class="icon-column">
                            <button onclick="loadContent('/registroProjeto')" class="desktop-icon">
                                <i class="material-icons">note_add</i>
                                <span>Registro</span>
                            </button>
                            <button onclick="loadContent('/portifolio')" class="desktop-icon">
                                <i class="material-icons">book</i>
                                <span>Portfólio</span>
                            </button>
                            <button onclick="loadContent('/curriculo')" class="desktop-icon">
                                <i class="material-icons">assignment_ind</i>
                                <span>Currículo</span>
                            </button>
                            <button onclick="" class="desktop-icon">
                                <i class="material-icons">info</i>
                                <span>Informações<br>da Faculdade</span>
                            </button>
                        </div>
                        <div class="os-window-container">
                            <div class="os-frame os-window">
                                <div id="os-content"></div>
                            </div>
                            
                            <button class="os-window-close"></button>
                        </div>
                    </div>
                </main>
            </div>
        </div>
    </div>

    <div class="modal micromodal-slide" id="modal-2" aria-hidden="true">
        <div class="modal__overlay" tabindex="-1" data-micromodal-close>
            <div class="modal__container shelf-gui-wrapper" role="dialog" aria-modal="true" aria-labelledby="modal-2-title">
                <header class="modal__header shelf-header">
                    <button class="modal__close" aria-label="Close modal" data-micromodal-close></button>
                </header>
                <main class="modal__content shelf-body-wrapper dragscroll" id="modal-2-content">
                    <div class="shelf-body">
                        <div class="books-wrapper books-wrapper-gui">
                            <div class="book-pile" id="games">
                                <div class="book-group-1">
                                    <div class="book"></div>
                                    <div class="book"></div>
                                    <div class="book"></div>
                                </div>      
                                <div class="book-group-2">
                                    <div class="book"></div>
                                    <div class="book"></div>
                                    <div class="book"></div>
                                </div>
                                <div class="book-group-3">
                                    <div class="book"></div>
                                    <div class="book"></div>
                                    <div class="book"></div>
                                </div>
                            </div>
                            <div class="book-pile" id="bi">
                                <div class="book-group-1">
                                    <div class="book book-gui"></div>
                                </div>      
                                <div class="book-group-2">
                                    <div class="book book-gui"></div>
                                </div>
                                <div class="book-group-3">
                                    <div class="book book-gui"></div>
                                </div>
                            </div>
                            <div class="book-pile" id="dev">
                                <div class="book-group-1">
                                    <div class="book book-gui"></div>
                                </div>      
                                <div class="book-group-2">
                                    <div class="book book-gui"></div>
                                </div>
                                <div class="book-group-3">
                                    <div class="book book-gui"></div>
                                </div>
                            </div>
                            <div class="book-pile" id="inov">
                                <div class="book-group-1">
                                    <div class="book book-gui"></div>
                                </div>      
                                <div class="book-group-2">
                                    <div class="book book-gui"></div>
                                </div>
                                <div class="book-group-3">
                                    <div class="book book-gui"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </main>
            </div>
        </div>
    </div>

    <div class="modal micromodal-slide" id="modal-3" aria-hidden="true">
        <div class="modal__overlay" tabindex="-1" data-micromodal-close>
            <div class="modal__container estante-gui-wrapper" role="dialog" aria-modal="true" aria-labelledby="modal-3-title">
                <header class="modal__header estante-header">
                    <button class="modal__close" aria-label="Close modal" data-micromodal-close></button>
                </header>
                <main class="modal__content estante-body-wrapper dragscroll" id="modal-3-content">
                    <div class="estante-body">
                        <div class="estante-body-top">

                        </div>
                        <div class="estante-body-bottom">

                        </div>
                        <div class="estante-body-bottom">

                        </div>
                        <div class="estante-body-bottom">

                        </div>
                        <div class="estante-body-bottom">

                        </div>
                    </div>
                </main>
            </div>
        </div>
    </div>


</div> 
            <script type="application/javascript">
                var counter = document.getElementById('counter').getContext('2d');
                var no = 0; // Starting Point
                var pointToFill = 4.72;  //Point from where you want to fill the circle
                var cw = counter.canvas.width;  //Return canvas width
                var ch = counter.canvas.height; //Return canvas height
                var diff;   // find the different between current value (no) and trageted value (100)
                var loadingContent = false;

                function loadContent(url) {
                    if (loadingContent)
                        return;
                    
                    loadingContent = true;
                    $.ajax({
                        method: 'GET',
                        cache: false,
                        url: url,
                        success: function (data) {
                            loadingContent = false;
                            $('#os-content').html(data);
                        },
                        error: function () {
                            loadingContent = false;
                            $('#os-content').html("<b>Ocorreu um erro ao carregar os dados do servidor :(</b>");
                        }
                    })
                }

                function fillCounter(){
                    diff = ((no/100) * Math.PI*2*10);
                    counter.clearRect(0,0,cw,ch);   // Clear canvas every time when function is call
                    counter.lineWidth = 15;     // size of stroke
                    counter.fillStyle = '#fff';     // color that you want to fill in counter/circle
                    counter.strokeStyle = '#dc143c';    // Stroke Color
                    counter.textAlign = 'center';
                    counter.font = "0.1px monospace";    //set font size and face
                    counter.fillText(no+'%',100,110);       //fillText(text,x,y);
                    counter.beginPath();
                    counter.arc(100,100,90,pointToFill,diff/10+pointToFill);    //arc(x,y,radius,start,stop)
                    counter.stroke();   // to fill stroke
                    
                    // now add condition
                    
                    if(no >= 78){
                        clearTimeout(fill);     //fill is a variable that call the function fillcounter()
                    }
                    no++;
                }
                
                //now call the function
                
                var fill = setInterval(fillCounter,50);     //call the fillCounter function after every 50MS
            </script>

<%- contentFor("scripts")%>
<script type="text/javascript">

// mdc.select.MDCSelect.attachTo(document.querySelector(".mdc-select"));

    function registroRedirect() {
        window.location.replace("/formTest")
    }
    
    function portifolioRedirect() {
        window.location.replace("/portifolio")
    }

    function resumeRedirect() {
        window.location.replace("/resume.html")
    }

    //VINICIUS-------------------------------------------------------
    MicroModal.init({
        awaitCloseAnimation: true,
    });

    function showSidebar() {
        overlayToggle();
        var sidebar = document.querySelector('.sidebar-wrapper');
        sidebar.classList.toggle('sidebar-wrapper-after');
    }
    
    function overlayToggle() {
        $("#sidebar-overlay").fadeIn(200);
    }

    function closeOverlay() {
        $("#sidebar-overlay").fadeOut(200);
        var sidebar = document.querySelector('.sidebar-wrapper');
            sidebar.classList.remove('sidebar-wrapper-after');
    }

    $(document).ready(function(){

        // $(".room-container").smoothDivScroll({
        //     mousewheelScrolling: "",
        //     countOnlyClass: ".room",
		// 	manualContinuousScrolling: false,
        //     autoScrollingMode: ""
        //     // touchScrolling: true,
        //     // hotSpotScrolling: false
        // });

		// $(".room-container").smoothTouchScroll({ 
        //     continuousScrolling: false,
        //     countOnlyClass: ".room"
	    // });

        $("#account-header-button").click(function(){
             $(".account-modal-wrapper").fadeToggle(200);
        });

        $(".desktop-icon").click(function(){
             $(".os-window-container").show(150);
        });

        $(".os-window-close").click(function(){
             $(".os-window-container").hide(150);
        });

    });
</script>